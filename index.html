<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Will You Be Mine? ‚Äî Pookie ‚ù§Ô∏è Tulip</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg1: #2b002b;    /* dark */
    --bg2: #ff4f79;    /* pink */
    --accent: #ffd1e6;
    --glass: rgba(255,255,255,0.06);
    --text: #fff;
    --muted: rgba(255,255,255,0.85);
  }

  /* Reset */
  *{box-sizing:border-box; margin:0; padding:0}
  html,body{height:100%}

  body{
    font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: radial-gradient(1200px 600px at 10% 20%, rgba(255,95,135,0.12), transparent 8%),
                radial-gradient(1000px 500px at 90% 80%, rgba(255,200,220,0.08), transparent 8%),
                linear-gradient(180deg, var(--bg1) 0%, #3b002f 50%, #ff1f66 100%);
    color:var(--text);
    display:flex;
    align-items:center;
    justify-content:center;
    min-height:100vh;
    overflow:hidden;
  }

  /* Container */
  .card{
    width: min(920px, 96vw);
    min-height: 520px;
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    border-radius:22px;
    padding:26px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.45);
    position:relative;
    overflow:hidden;
    display:grid;
    grid-template-columns: 1fr 420px;
    gap:18px;
  }

  /* Left - main */
  .left{
    padding:18px 26px;
    display:flex;
    flex-direction:column;
    justify-content:center;
    gap:10px;
  }

  .logo{
    display:flex; gap:12px; align-items:center;
  }
  .logo .heart{
    font-size:22px;
    transform:translateY(-2px);
  }
  .tag{
    color:var(--accent);
    font-weight:600;
    letter-spacing:0.6px;
    font-size:14px;
  }

  h1{
    font-family: "Great Vibes", cursive;
    font-size:54px;
    line-height:1;
    color: #fff;
    text-shadow: 0 6px 30px rgba(255,80,120,0.16);
    margin-top:6px;
  }

  p.lead{
    color:var(--muted);
    margin-top:6px;
    font-size:16px;
    max-width:680px;
  }

  .cta-row{
    margin-top:20px;
    display:flex;
    gap:14px;
    align-items:center;
  }

  button.primary{
    background: linear-gradient(90deg,#fff 0%, #fff 100%);
    color:#ff1f66;
    padding:14px 26px;
    border-radius:999px;
    border:none;
    font-weight:700;
    cursor:pointer;
    box-shadow: 0 10px 30px rgba(255,30,102,0.14);
    transform-origin:center;
    transition: transform .18s ease, box-shadow .18s ease;
  }
  button.primary:active{ transform:scale(.98) }
  button.primary:hover{ transform:scale(1.03); box-shadow: 0 18px 40px rgba(255,30,102,0.18) }

  .secondary{
    background: transparent;
    color: rgba(255,255,255,0.92);
    padding:12px 18px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,0.08);
    cursor:pointer;
    font-weight:600;
  }

  /* Right panel (image + controls) */
  .right{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:14px;
    padding:18px;
    display:flex;
    flex-direction:column;
    gap:12px;
    align-items:center;
    justify-content:center;
    position:relative;
  }

  .photo-frame{
    width:100%;
    height:320px;
    border-radius:12px;
    overflow:hidden;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.006));
    display:flex;
    align-items:center;
    justify-content:center;
    position:relative;
  }

  .gif{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
  }

  .names{
    display:flex;
    gap:8px;
    align-items:center;
    font-weight:700;
    color:var(--accent);
  }
  .names .from{ color: rgba(255,255,255,0.9); font-weight:600 }

  /* Buttons at bottom of right panel */
  .opts{
    display:flex;
    gap:10px;
    width:100%;
    justify-content:space-between;
    align-items:center;
  }

  .theme-toggle{
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding:8px 12px;
    border-radius:999px;
    cursor:pointer;
    border:1px solid rgba(255,255,255,0.06);
    background: rgba(255,255,255,0.02);
    font-weight:600;
  }

  .small{
    font-size:13px; color:var(--muted)
  }

  /* NO button behavior - absolute positioned inside card */
  #noBtn{
    position:absolute;
    right:40px;
    bottom:60px;
    background: linear-gradient(90deg,#ff2e63,#ff4f79);
    color:white;
    border:none;
    padding:12px 22px;
    border-radius:999px;
    cursor:pointer;
    font-weight:700;
    box-shadow: 0 12px 30px rgba(255,40,110,0.2);
    transition: transform .18s ease, left .18s ease, top .18s ease;
    z-index:40;
  }

  #yesBtn{
    position:absolute;
    left:40px;
    bottom:60px;
    background: rgba(255,255,255,0.98);
    color:#ff1f66;
    border:none;
    padding:12px 30px;
    border-radius:999px;
    cursor:pointer;
    font-weight:800;
    box-shadow: 0 12px 34px rgba(0,0,0,0.25);
    z-index:40;
  }

  /* Intro overlay */
  .overlay{
    position:absolute;
    inset:0;
    background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.5));
    backdrop-filter: blur(4px);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:90;
    padding:20px;
    flex-direction:column;
    gap:18px;
  }

  .intro-card{
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    padding:18px 20px;
    border-radius:12px;
    text-align:center;
    max-width:520px;
    box-shadow: 0 20px 50px rgba(0,0,0,0.6);
  }

  .intro-card h2{
    font-family: "Great Vibes", cursive;
    font-size:46px;
    color:#fff;
  }
  .intro-card p{ color: var(--muted); font-size:15px; margin-top:8px }

  .start-btn{
    margin-top:12px;
    padding:12px 22px;
    border-radius:999px;
    border:none;
    cursor:pointer;
    font-weight:700;
    background:linear-gradient(90deg,#ff8ab4,#ff2e63);
    color:white;
    box-shadow: 0 12px 30px rgba(255,40,110,0.2);
  }

  /* Floating hearts & sparkles */
  .floating{
    position:absolute;
    inset:0;
    pointer-events:none;
    z-index:10;
  }
  .floating i{
    position:absolute;
    font-size:18px;
    animation: drift linear infinite;
    opacity:0.85;
    filter: drop-shadow(0 6px 18px rgba(255,0,120,0.14));
  }
  @keyframes drift{
    from{ transform: translateY(0) scale(0.9); }
    to{ transform: translateY(-420px) scale(1.15); opacity:0; }
  }

  /* Love letter screen */
  .letter{
    position:fixed;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    background: linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.45));
    z-index:120;
    padding:20px;
  }
  .letter-box{
    width: min(820px, 94vw);
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:18px;
    padding:26px;
    box-shadow: 0 30px 90px rgba(0,0,0,0.6);
    color:var(--muted);
  }
  .letter-box h3{
    font-family: "Great Vibes", cursive;
    color: white;
    font-size:46px;
  }
  .letter-box .text{
    margin-top:12px;
    font-size:17px;
    color:rgba(255,255,255,0.95);
    line-height:1.6;
  }
  .close{
    margin-top:16px;
    display:flex;
    gap:10px; justify-content:flex-end;
  }
  .close button{
    padding:10px 14px; border-radius:10px; border:none; cursor:pointer; font-weight:700;
  }

  /* Responsiveness */
  @media (max-width:900px){
    .card{ grid-template-columns: 1fr; padding:18px; gap:8px; min-height:640px; }
    .right{ order:-1; height:auto }
    .photo-frame{ height: 260px }
    h1{ font-size:44px }
    #noBtn, #yesBtn{ position: static; margin-top:16px; align-self:flex-start }
    .cta-row{ flex-direction:column; align-items:flex-start }
  }
</style>
</head>
<body>

<!-- Background floating hearts / sparkles -->
<div class="floating" id="floating"></div>

<div class="card" id="card">
  <div class="left">
    <div class="logo">
      <div class="heart">üíò</div>
      <div>
        <div class="tag">A Special Message</div>
        <div class="from small">From Pookie to Tulip</div>
      </div>
    </div>

    <h1 id="mainTitle">Will you be mine, Tulip?</h1>
    <p class="lead">I made this little thing just for you ‚Äî warm hearts, cute GIFs, and a promise. Click 'Yes' if your heart says yes. If you click 'No', the button likes to play hide & seek üòÖ</p>

    <div class="cta-row">
      <button class="primary" id="openYes" onclick="yesClicked()">Yes, of course üíç</button>
      <button class="secondary" id="openNo" onclick="moveNo()">No... (try me)</button>
    </div>

    <div style="margin-top:18px; font-size:13px; color:var(--muted)">
      Tip: If the NO button runs away, keep chasing ‚Äî it has many cute lines ;)
    </div>
  </div>

  <div class="right">
    <div class="photo-frame" aria-hidden="true">
      <!-- Cute GIF -->
      <img class="gif" src="https://media.giphy.com/media/3o6Zt6ML6BklcajjsA/giphy.gif" alt="cute-couple-gif" />
    </div>

    <div class="names">
      <div style="font-size:13px">To</div>
      <div class="from">Tulip</div>
      <div style="font-size:13px; opacity:0.8"> ‚Ä¢ </div>
      <div style="font-size:13px">From</div>
      <div class="from">Pookie</div>
    </div>

    <div class="opts" style="width:100%;">
      <div class="theme-toggle" id="themeToggle" onclick="toggleTheme()">
        üåô Theme
      </div>
      <div style="display:flex; gap:8px; align-items:center;">
        <div class="small">Music</div>
        <button class="secondary" id="musicBtn" onclick="toggleMusic()">Play</button>
      </div>
    </div>

    <div style="font-size:12px; color:var(--muted); margin-top:6px; text-align:center; width:100%;">
      Share this link and make her smile :)
    </div>
  </div>

  <!-- Big YES & NO buttons (absolute for desktop) -->
  <button id="yesBtn" onclick="yesClicked()">Yes üíñ</button>
  <button id="noBtn" onclick="moveNo()">No</button>
</div>

<!-- Intro overlay (shows before play) -->
<div class="overlay" id="overlay">
  <div class="intro-card">
    <h2>Hey Tulip üå∑</h2>
    <p>There's a little question waiting ‚Äî but first, press START to set the mood. Music + hearts will begin ‚ú®</p>
    <div style="display:flex; gap:10px; justify-content:center; margin-top:10px">
      <button class="start-btn" id="startBtn">Start üíó</button>
      <button class="start-btn" style="background:transparent;border:1px solid rgba(255,255,255,0.08)" onclick="skipIntro()">Skip</button>
    </div>
  </div>
</div>

<!-- Love letter overlay (hidden until YES) -->
<div class="letter" id="letter" style="display:none">
  <div class="letter-box">
    <h3>For Tulip ‚Äî With all my heart</h3>
    <div class="text" id="letterText">
      <!-- typed via JS -->
    </div>

    <div class="close">
      <button onclick="downloadLetter()" style="background:linear-gradient(90deg,#ff8ab4,#ff2e63); color:white; border-radius:10px; padding:10px 14px">Download Letter</button>
      <button onclick="closeLetter()" style="background:rgba(255,255,255,0.06); color:white; border-radius:10px; padding:10px 14px">Close</button>
    </div>
  </div>
</div>

<!-- Background audio (small romantic track). NOTE: Autoplay may be blocked by browsers. Use Start button to play. -->
<audio id="bgAudio" loop preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2023/03/08/audio_f2a1bd02be.mp3?filename=romantic-melody-110686.mp3" type="audio/mpeg">
  <!-- fallback: user will still have silent page -->
</audio>

<script>
  // ---------- Variables ----------
  const floating = document.getElementById('floating');
  const overlay = document.getElementById('overlay');
  const startBtn = document.getElementById('startBtn');
  const bgAudio = document.getElementById('bgAudio');
  const musicBtn = document.getElementById('musicBtn');
  const noBtn = document.getElementById('noBtn');
  const yesBtn = document.getElementById('yesBtn');
  const openNo = document.getElementById('openNo');
  const openYes = document.getElementById('openYes');
  const letter = document.getElementById('letter');
  const letterText = document.getElementById('letterText');
  const themeToggle = document.getElementById('themeToggle');

  let musicPlaying = false;
  let chaseCount = 0;

  // Lines for the NO button to cycle through
  const noLines = [
    "Are you sure? ü•∫",
    "Think again‚Ä¶ üí≠",
    "Please? I tried so hard üò≠",
    "Don't break my tiny heart üíî",
    "Pretty please with a rose? üåπ",
    "Just say yes na, Tulip üíï",
    "My puppy eyes are out üê∂",
    "I fixed a lifetime of hugs üíû",
    "Say yes and I‚Äôll bake for you üßÅ",
    "If no, i'll keep chasing you üòÖ"
  ];

  // ---------- Floating hearts generation ----------
  function spawnFloating(count=16){
    for(let i=0;i<count;i++){
      const el = document.createElement('i');
      el.innerText = Math.random()>0.6? 'üíó' : (Math.random()>0.5? '‚ú®' : '‚ù§Ô∏è');
      const size = 12 + Math.random()*30;
      el.style.fontSize = size + 'px';
      el.style.left = (Math.random()*100) + '%';
      el.style.bottom = (-20 - Math.random()*40) + 'px';
      el.style.animationDuration = (6 + Math.random()*8) + 's';
      el.style.opacity = 0.8;
      el.style.transform = `translateY(0) rotate(${Math.random()*30}deg)`;
      floating.appendChild(el);
      // remove after animation length
      setTimeout(()=> el.remove(), (8 + Math.random()*8)*1000);
    }
  }
  // continuously spawn
  setInterval(()=> spawnFloating(6), 1600);
  spawnFloating(22);


  // ---------- Theme toggle (dark/pink feel) ----------
  let darkMode = true;
  function toggleTheme(){
    darkMode = !darkMode;
    if(darkMode){
      document.body.style.background = 'radial-gradient(1200px 600px at 10% 20%, rgba(255,95,135,0.12), transparent 8%), radial-gradient(1000px 500px at 90% 80%, rgba(255,200,220,0.08), transparent 8%), linear-gradient(180deg, var(--bg1) 0%, #3b002f 50%, #ff1f66 100%)';
      themeToggle.innerText = 'üåô Theme';
    } else {
      document.body.style.background = 'linear-gradient(180deg,#fff0f2 0%, #ffe4ee 30%, #ffd1e6 100%)';
      themeToggle.innerText = 'üå∏ Theme';
    }
  }

  // ---------- Music controls ----------
  function toggleMusic(){
    if(!musicPlaying){
      const p = bgAudio.play();
      if(p !== undefined){
        p.then(()=> {
          musicPlaying = true;
          musicBtn.innerText = 'Pause';
        }).catch(()=> {
          // autoplay blocked - show user to press Start
          musicBtn.innerText = 'Start (use Start)';
        });
      }
    } else {
      bgAudio.pause();
      musicPlaying = false;
      musicBtn.innerText = 'Play';
    }
  }

  // start button: dismiss overlay and attempt to play music
  startBtn.addEventListener('click', ()=> {
    overlay.style.display = 'none';
    const p = bgAudio.play();
    if(p !== undefined){
      p.then(()=> {
        musicPlaying = true;
        musicBtn.innerText = 'Pause';
      }).catch(()=> {
        musicPlaying = false;
        musicBtn.innerText = 'Play';
      });
    }
  });

  function skipIntro(){
    overlay.style.display = 'none';
  }

  // ---------- NO button run-away logic ----------
  function moveNo(){
    chaseCount++;
    // increase speed/escape with chaseCount
    const padding = 24;
    const btnW = noBtn.offsetWidth;
    const btnH = noBtn.offsetHeight;

    // compute safe area inside viewport
    const maxX = window.innerWidth - btnW - padding;
    const maxY = window.innerHeight - btnH - padding;

    // avoid placing near last yes button
    const px = Math.random() * maxX;
    const py = Math.random() * maxY;

    noBtn.style.left = px + 'px';
    noBtn.style.top = py + 'px';

    // change text
    noBtn.innerText = noLines[Math.floor(Math.random()*noLines.length)];

    // little wiggle for the yes button to tease her
    yesBtn.style.transform = 'scale(1.03)';
    setTimeout(()=> yesBtn.style.transform = '', 160);

    // generate a few floating hearts when it moves
    spawnFloating(4);

    // occasionally show a playful nudge in main text
    if(chaseCount % 5 === 0){
      const t = document.getElementById('mainTitle');
      t.innerText = ['Will you be mine, Tulip?','Tulip, I believe in you üí´','My heart waits for your yes üíñ'][ Math.floor(Math.random()*3) ];
      setTimeout(()=> t.innerText = `Will you be mine, Tulip?`, 2400);
    }
  }

  // also move NO if user tries to click it quickly (playsafe)
  noBtn.addEventListener('mouseenter', ()=> {
    // 60% chance to dodge on hover
    if(Math.random() > 0.3) moveNo();
  });

  // tie openNo & openYes to same actions (buttons inside left)
  openNo.addEventListener('click', moveNo);
  openYes.addEventListener('click', yesClicked);

  // ---------- YES behavior: show love letter ----------
  function yesClicked(){
    // gentle confetti/hearts
    spawnFloating(28);

    // show love letter overlay
    letter.style.display = 'flex';
    // prepare letter text (typed effect)
    const lines = [
      "Tulip,",
      "",
      "From the moment I thought of you, my days got brighter. You are the bloom in every small thing I cherish.",
      "",
      "I promise to be warm when you are cold, to make you laugh when days feel gray, and to keep choosing you, every single day.",
      "",
      "If you say 'yes', I swear to make every ordinary moment a little more beautiful ‚Äî with hugs, terrible jokes, and late-night tea.",
      "",
      "Will you be mine?",
      "",
      "‚Äî Pookie"
    ];

    // typewriter
    letterText.innerHTML = '';
    let idx = 0;
    function typeLine(){
      if(idx >= lines.length) return;
      const p = document.createElement('p');
      p.style.marginBottom = '10px';
      p.style.whiteSpace = 'pre-wrap';
      letterText.appendChild(p);

      let ch = 0;
      const text = lines[idx];
      const interval = setInterval(()=>{
        p.textContent += text.charAt(ch);
        ch++;
        if(ch > text.length){
          clearInterval(interval);
          idx++;
          setTimeout(typeLine, 260);
        }
      }, 26);
    }
    typeLine();
  }

  function closeLetter(){
    letter.style.display = 'none';
  }

  // download letter as simple text file
  function downloadLetter(){
    const text = document.getElementById('letterText').innerText;
    const blob = new Blob([text], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'For_Tulip_from_Pookie.txt';
    a.click();
    URL.revokeObjectURL(url);
  }

  // Small UX: prevent page from shifting when NO is placed outside card
  window.addEventListener('resize', ()=> {
    // clamp noBtn inside viewport
    const btnW = noBtn.offsetWidth;
    const btnH = noBtn.offsetHeight;
    const left = parseFloat(noBtn.style.left || (window.innerWidth - btnW - 40));
    const top = parseFloat(noBtn.style.top || (window.innerHeight - btnH - 120));
    if(left + btnW > window.innerWidth) noBtn.style.left = (window.innerWidth - btnW - 16) + 'px';
    if(top + btnH > window.innerHeight) noBtn.style.top = (window.innerHeight - btnH - 16) + 'px';
  });

  // Accessibility: allow yes with Enter key when overlay closed
  document.addEventListener('keydown', (e)=> {
    if(e.key === 'Enter' && overlay.style.display === 'none') yesClicked();
  });

  // Put NO & YES initial positions for mobile safety
  function initPositions(){
    noBtn.style.left = (window.innerWidth * 0.62) + 'px';
    noBtn.style.top = (window.innerHeight * 0.62) + 'px';
    yesBtn.style.left = (window.innerWidth * 0.08) + 'px';
    yesBtn.style.top = (window.innerHeight * 0.62) + 'px';
  }
  initPositions();
  setTimeout(()=> spawnFloating(18), 1200);

  // Try to respect mobile browsing behavior: do not autoplay unless user starts
  // but still enable play attempt on overlay start button.

</script>

</body>
</html>
